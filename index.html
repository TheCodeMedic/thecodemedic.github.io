<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeNest2 - Your Coding Journey Starts Here</title>
    <meta name="description" content="CodeNest - Learn coding through practical tutorials and guides. From Discord bots to web development, we've got you covered.">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            width: 100%;
        }

        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            width: 100%;
        }

        .logo {
            font-size: 2rem;
            font-weight: bold;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            margin: 0;
        }

        .nav-links a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-links a:hover, .nav-links a.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            transform: translateY(-2px);
        }

        .admin-badge {
            background: #ff6b6b;
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            white-space: nowrap;
        }

        main {
            margin-top: 100px;
            min-height: calc(100vh - 180px);
            width: 100%;
        }

        .page {
            display: none;
            padding: 2rem 0;
            width: 100%;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hero {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 4rem 2rem;
            text-align: center;
            margin: 2rem 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
            width: 100%;
        }

        .hero h1 {
            font-size: 3.5rem;
            color: white;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero p {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-button {
            background: linear-gradient(45deg, #ff6b6b, #ffa500);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(255, 107, 107, 0.4);
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 2rem;
            margin: 1rem 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
            width: 100%;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .search-container {
            margin: 2rem 0;
            position: relative;
            width: 100%;
        }

        .search-box {
            width: 100%;
            padding: 1rem 1rem 1rem 3rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .search-box:focus {
            outline: none;
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.3);
            background: white;
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
        }

        .blog-post {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 2rem;
            margin: 1.5rem 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
            position: relative;
            width: 100%;
        }

        .blog-post:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
            border-left-color: #667eea;
        }

        .blog-post h3 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .blog-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            color: #666;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .blog-tags {
            display: flex;
            gap: 0.5rem;
            margin: 1rem 0;
            flex-wrap: wrap;
        }

        .tag {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .view-count {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
        }

        .admin-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            width: 100%;
        }

        .admin-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .admin-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .admin-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .admin-btn.danger {
            background: linear-gradient(45deg, #ff6b6b, #ff4757);
        }

        .file-generator {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .file-list {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
            max-height: 300px;
            overflow-y: auto;
        }

        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            border-bottom: 1px solid #dee2e6;
        }

        .file-item:last-child {
            border-bottom: none;
        }

        .download-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .download-btn:hover {
            background: #218838;
        }

        .blog-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .form-group {
            margin-bottom: 1.5rem;
            width: 100%;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #333;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-group textarea {
            height: 200px;
            resize: vertical;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            z-index: 2000;
            overflow-y: auto;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            margin: 5% auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: modalSlide 0.3s ease-out;
        }

        @keyframes modalSlide {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .close {
            float: right;
            font-size: 2rem;
            cursor: pointer;
            color: #999;
            line-height: 1;
        }

        .close:hover {
            color: #333;
        }

        footer {
            background: rgba(0, 0, 0, 0.8);
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: 4rem;
            width: 100%;
        }

        .no-results {
            text-align: center;
            padding: 3rem;
            color: white;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            margin: 2rem 0;
        }

        .no-results i {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.7;
        }

        .instructions {
            background: rgba(255, 193, 7, 0.1);
            border: 2px solid #ffc107;
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .instructions h4 {
            color: #856404;
            margin-bottom: 1rem;
        }

        .instructions p {
            color: #664d03;
            margin-bottom: 0.5rem;
        }

        @media (max-width: 768px) {
            .nav-links {
                gap: 1rem;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .admin-controls {
                flex-direction: column;
            }
            
            .blog-meta {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }

            .blog-actions {
                flex-direction: column;
            }

            .nav-right {
                flex-direction: column;
                gap: 0.5rem;
            }

            .nav-links {
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav class="container">
            <div class="logo">CodeNest</div>
            <div class="nav-right">
                <ul class="nav-links">
                    <li><a href="#" onclick="showPage('home')" class="nav-link active">Home</a></li>
                    <li><a href="#" onclick="showPage('blog')" class="nav-link">Blog</a></li>
                    <li><a href="#" onclick="showPage('about')" class="nav-link">About</a></li>
                </ul>
                <span class="admin-badge" id="adminBadge" style="display: none;">Admin Mode</span>
            </div>
        </nav>
    </header>

    <main class="container">
        <!-- Home Page -->
        <div id="home" class="page active">
            <div class="hero">
                <h1>Welcome to CodeNest</h1>
                <p>Your cozy corner of the internet where coding knowledge comes to life. Discover practical tutorials, step-by-step guides, and everything you need to level up your programming skills.</p>
                <a href="#" onclick="showPage('blog')" class="cta-button">Explore Tutorials</a>
            </div>
            
            <div class="card">
                <h2>üöÄ What You'll Find Here</h2>
                <p>At CodeNest, we believe learning to code should be approachable and fun. Whether you're building your first Discord bot, diving into web development, or exploring new frameworks, we've got detailed guides to help you succeed.</p>
            </div>
            
            <div class="card">
                <h2>üí° Learn by Doing</h2>
                <p>Every tutorial is designed with hands-on learning in mind. Follow along with real examples, practical code snippets, and clear explanations that make complex concepts simple to understand.</p>
            </div>
        </div>

        <!-- Blog Page -->
        <div id="blog" class="page">
            <h1 style="color: white; text-align: center; margin-bottom: 2rem;">Latest Tutorials</h1>
            
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-box" placeholder="Search tutorials..." id="searchBox" oninput="searchBlogs()">
            </div>

            <div id="adminPanel" class="admin-panel" style="display: none;">
                <h3>Admin Panel</h3>
                <div class="admin-controls">
                    <button class="admin-btn" onclick="showAddBlogModal()">
                        <i class="fas fa-plus"></i> Add New Post
                    </button>
                    <button class="admin-btn" onclick="generateAllFiles()">
                        <i class="fas fa-code"></i> Generate Site Files
                    </button>
                    <button class="admin-btn danger" onclick="confirmClearAll()">
                        <i class="fas fa-trash"></i> Clear All Posts
                    </button>
                </div>
                
                <div class="instructions">
                    <h4><i class="fas fa-info-circle"></i> How to Deploy Your Blog</h4>
                    <p>1. Create your blog posts using the form above</p>
                    <p>2. Click "Generate Site Files" to create all necessary HTML files</p>
                    <p>3. Download each file and upload them to your GitHub repository</p>
                    <p>4. Your blog will be live on GitHub Pages with each post having its own URL!</p>
                </div>

                <div id="fileGenerator" class="file-generator" style="display: none;">
                    <h4>Generated Files</h4>
                    <p>Download these files and upload them to your GitHub Pages repository:</p>
                    <div id="fileList" class="file-list"></div>
                </div>
            </div>
            
            <div id="blogContainer">
                <div class="no-results">
                    <i class="fas fa-code"></i>
                    <h3>No tutorials yet!</h3>
                    <p>Check back soon for amazing coding tutorials and guides.</p>
                </div>
            </div>
        </div>

        <!-- About Page -->
        <div id="about" class="page">
            <div class="card">
                <h1>About CodeNest</h1>
                <p>CodeNest was born from a simple idea: coding education should be accessible, practical, and enjoyable for everyone. Whether you're taking your first steps in programming or you're looking to expand your skillset, we're here to guide you through your journey.</p>
                
                <h2 style="margin-top: 2rem;">Our Mission</h2>
                <p>We create comprehensive, easy-to-follow tutorials that bridge the gap between theory and practice. Every guide is crafted with care, tested thoroughly, and designed to help you build real projects while learning fundamental concepts.</p>
                
                <h2 style="margin-top: 2rem;">What Makes Us Different</h2>
                <ul style="margin: 1rem 0; padding-left: 2rem;">
                    <li>Step-by-step tutorials with real-world applications</li>
                    <li>Clear explanations without overwhelming jargon</li>
                    <li>Code examples you can actually use in your projects</li>
                    <li>Regular updates with the latest best practices</li>
                </ul>
                
                <p>Join our growing community of learners and let's build something amazing together!</p>
            </div>
        </div>
    </main>

    <!-- Add/Edit Blog Modal -->
    <div id="blogModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeBlogModal()">&times;</span>
            <h2 id="modalTitle">Add New Tutorial</h2>
            <form id="blogForm" onsubmit="saveBlog(event)">
                <div class="form-group">
                    <label for="blogTitle">Tutorial Title</label>
                    <input type="text" id="blogTitle" required placeholder="e.g., How to Create a Discord Bot">
                </div>
                
                <div class="form-group">
                    <label for="blogContent">Content</label>
                    <textarea id="blogContent" required placeholder="Write your tutorial content here..."></textarea>
                </div>
                
                <div class="form-group">
                    <label for="blogTags">Tags (comma-separated)</label>
                    <input type="text" id="blogTags" placeholder="e.g., discord, javascript, bot, api">
                </div>
                
                <button type="submit" class="admin-btn">
                    <i class="fas fa-save"></i> Save Tutorial
                </button>
            </form>
        </div>
    </div>

    <footer>
        <div class="container">
            <p>&copy; 2025 CodeNest. Built with ‚ù§Ô∏è for the coding community.</p>
        </div>
    </footer>

    <script>
        let blogs = [];
        let editingBlogId = null;
        let isAdminMode = false;
        let currentView = 'home';

        // Initialize the application
        window.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            checkAdminMode();
            loadBlogsFromJSON();
            renderBlogs();
        }

        function checkAdminMode() {
            const urlParams = new URLSearchParams(window.location.search);
            isAdminMode = urlParams.has('admin');
            
            const adminBadge = document.getElementById('adminBadge');
            const adminPanel = document.getElementById('adminPanel');
            
            if (isAdminMode) {
                adminBadge.style.display = 'inline-block';
                if (currentView === 'blog') {
                    adminPanel.style.display = 'block';
                }
            } else {
                adminBadge.style.display = 'none';
                adminPanel.style.display = 'none';
            }
        }

        function loadBlogsFromJSON() {
            // Try to load from blogs.json file (this would be generated and uploaded to GitHub)
            fetch('./blogs.json')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('No blogs.json found');
                    }
                    return response.json();
                })
                .then(data => {
                    blogs = data.blogs || [];
                    renderBlogs();
                })
                .catch(error => {
                    console.log('No blogs.json file found, starting with empty blog list');
                    blogs = [];
                    renderBlogs();
                });
        }

        function showPage(pageName) {
            currentView = pageName;
            
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(pageName).classList.add('active');
            
            // Update navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // Find and activate the correct nav link
            const activeLink = document.querySelector(`a[onclick="showPage('${pageName}')"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
            
            // Show/hide admin panel
            const adminPanel = document.getElementById('adminPanel');
            if (isAdminMode && pageName === 'blog') {
                adminPanel.style.display = 'block';
            } else {
                adminPanel.style.display = 'none';
            }
        }

        function generateSlug(title) {
            return title.toLowerCase()
                .replace(/[^a-z0-9\s]/g, '')
                .replace(/\s+/g, '-')
                .replace(/-+/g, '-')
                .trim('-');
        }

        function renderBlogs(blogsToRender = blogs) {
            const container = document.getElementById('blogContainer');
            
            if (blogsToRender.length === 0) {
                container.innerHTML = `
                    <div class="no-results">
                        <i class="fas fa-code"></i>
                        <h3>No tutorials yet!</h3>
                        <p>Check back soon for amazing coding tutorials and guides.</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = blogsToRender.map(blog => `
                <article class="blog-post">
                    <div class="blog-meta">
                        <span><i class="fas fa-calendar"></i> ${blog.createdAt}</span>
                        <span class="view-count"><i class="fas fa-eye"></i> ${blog.views} views</span>
                    </div>
                    <h3>${blog.title}</h3>
                    <p>${blog.content.substring(0, 200)}${blog.content.length > 200 ? '...' : ''}</p>
                    <div class="blog-tags">
                        ${blog.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                    <div class="blog-actions">
                        <a href="./${blog.id}.html" class="cta-button" target="_blank">
                            Read Full Tutorial <i class="fas fa-arrow-right"></i>
                        </a>
                        ${isAdminMode ? `
                            <button class="admin-btn" onclick="editBlog('${blog.id}')">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <button class="admin-btn danger" onclick="deleteBlog('${blog.id}')">
                                <i class="fas fa-trash"></i> Delete
                            </button>
                        ` : ''}
                    </div>
                </article>
            `).join('');
        }

        function searchBlogs() {
            const searchTerm = document.getElementById('searchBox').value.toLowerCase().trim();
            
            if (!searchTerm) {
                renderBlogs();
                return;
            }
            
            const filtered = blogs.filter(blog => {
                const titleMatch = blog.title.toLowerCase().includes(searchTerm);
                const contentMatch = blog.content.toLowerCase().includes(searchTerm);
                const tagMatch = blog.tags.some(tag => tag.toLowerCase().includes(searchTerm));
                
                return titleMatch || contentMatch || tagMatch;
            }).sort((a, b) => {
                // Sort by relevance (title matches first)
                const aTitle = a.title.toLowerCase().includes(searchTerm);
                const bTitle = b.title.toLowerCase().includes(searchTerm);
                if (aTitle && !bTitle) return -1;
                if (!aTitle && bTitle) return 1;
                return 0;
            });
            
            renderBlogs(filtered);
        }

        function showAddBlogModal() {
            editingBlogId = null;
            document.getElementById('modalTitle').textContent = 'Add New Tutorial';
            document.getElementById('blogForm').reset();
            document.getElementById('blogModal').style.display = 'block';
        }

        function editBlog(id) {
            const blog = blogs.find(b => b.id === id);
            if (!blog) return;
            
            editingBlogId = id;
            document.getElementById('modalTitle').textContent = 'Edit Tutorial';
            document.getElementById('blogTitle').value = blog.title;
            document.getElementById('blogContent').value = blog.content;
            document.getElementById('blogTags').value = blog.tags.join(', ');
            document.getElementById('blogModal').style.display = 'block';
        }

        function saveBlog(event) {
            event.preventDefault();
            
            const title = document.getElementById('blogTitle').value.trim();
            const content = document.getElementById('blogContent').value.trim();
            const tags = document.getElementById('blogTags').value
                .split(',')
                .map(tag => tag.trim())
                .filter(tag => tag);
            
            if (!title || !content) {
                alert('Please fill in both title and content.');
                return;
            }
            
            if (editingBlogId) {
                // Update existing blog
                const blogIndex = blogs.findIndex(b => b.id === editingBlogId);
                if (blogIndex !== -1) {
                    blogs[blogIndex] = {
                        ...blogs[blogIndex],
                        title,
                        content,
                        tags,
                        updatedAt: new Date().toLocaleDateString()
                    };
                }
            } else {
                // Create new blog
                const slug = generateSlug(title);
                const newBlog = {
                    id: slug,
                    title,
                    content,
                    tags,
                    views: 0,
                    createdAt: new Date().toLocaleDateString(),
                    updatedAt: new Date().toLocaleDateString()
                };
                blogs.unshift(newBlog);
            }
            
            renderBlogs();
            closeBlogModal();
            
            alert('Tutorial saved! Click "Generate Site Files" to create files for upload to GitHub.');
        }

        function deleteBlog(id) {
            if (confirm('Are you sure you want to delete this tutorial? This action cannot be undone.')) {
                blogs = blogs.filter(b => b.id !== id);
                renderBlogs();
                alert('Tutorial deleted! Remember to regenerate and re-upload site files.');
            }
        }

        function confirmClearAll() {
            if (confirm('Are you sure you want to delete ALL tutorials? This action cannot be undone.')) {
                blogs = [];
                renderBlogs();
                document.getElementById('fileGenerator').style.display = 'none';
                alert('All tutorials have been deleted.');
            }
        }

        function generateAllFiles() {
            if (blogs.length === 0) {
                alert('No blogs to generate files for. Create some tutorials first!');
                return;
            }

            const files = [];
            
            // Generate blogs.json
            const blogsJson = {
                blogs: blogs,
                lastUpdated: new Date().toISOString()
            };
            files.push({
                name: 'blogs.json',
                content: JSON.stringify(blogsJson, null, 2),
                type: 'application/json'
            });

            // Generate individual blog HTML files
            blogs.forEach(blog => {
                const blogHtml = generateBlogHTML(blog);
                files.push({
                    name: `${blog.id}.html`,
                    content: blogHtml,
                    type: 'text/html'
                });
            });

            // Generate updated index.html with current blogs
            const updatedIndex = generateUpdatedIndexHTML();
            files.push({
                name: 'index.html',
                content: updatedIndex,
                type: 'text/html'
            });

            // Show file generator
            displayGeneratedFiles(files);
        }

        function generateBlogHTML(blog) {
            return `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${blog.title} - CodeNest</title>
    <meta name="description" content="${blog.content.substring(0, 160)}...">
    <meta name="keywords" content="${blog.tags.join(', ')}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
        }

        .back-button {
            background: rgba(255, 255, 255, 0.9);
            color: #667eea;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 500;
            margin-bottom: 2rem;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .back-button:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }

        .blog-article {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .blog-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            font-size: 0.9rem;
            color: #666;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .blog-tags {
            display: flex;
            gap: 0.5rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        .tag {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .view-count {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        h1 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 2.5rem;
            line-height: 1.2;
        }

        .blog-content {
            font-size: 1.1rem;
            line-height: 1.8;
            color: #444;
            white-space: pre-line;
        }

        .blog-content p {
            margin-bottom: 1.5rem;
        }

        .logo {
            text-align: center;
            margin-bottom: 2rem;
        }

        .logo h2 {
            font-size: 2rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .blog-article {
                padding: 2rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .blog-meta {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">
            <h2>CodeNest</h2>
        </div>
        
        <a href="./index.html" class="back-button">
            <i class="fas fa-arrow-left"></i> Back to Blog
        </a>
        
        <article class="blog-article">
            <div class="blog-meta">
                <span><i class="fas fa-calendar"></i> Published ${blog.createdAt}</span>
                <span class="view-count"><i class="fas fa-eye"></i> ${blog.views} views</span>
            </div>
            
            <h1>${blog.title}</h1>
            
            <div class="blog-tags">
                ${blog.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
            </div>
            
            <div class="blog-content">
                ${blog.content}
            </div>
        </article>
    </div>
</body>
</html>`;
        }

        function generateUpdatedIndexHTML() {
            // This would return the current index.html content but with the blogs embedded
            // For simplicity, we'll return the current page source
            return document.documentElement.outerHTML;
        }

        function displayGeneratedFiles(files) {
            const fileGenerator = document.getElementById('fileGenerator');
            const fileList = document.getElementById('fileList');
            
            fileList.innerHTML = files.map(file => `
                <div class="file-item">
                    <div>
                        <strong>${file.name}</strong>
                        <div style="font-size: 0.8rem; color: #666;">
                            ${file.type} ‚Ä¢ ${(new Blob([file.content]).size / 1024).toFixed(1)} KB
                        </div>
                    </div>
                    <button class="download-btn" onclick="downloadFile('${file.name}', \`${file.content.replace(/`/g, '\\`').replace(/\$/g, '\\)}\`, '${file.type}')">
                        <i class="fas fa-download"></i> Download
                    </button>
                </div>
            `).join('');
            
            fileGenerator.style.display = 'block';
        }

        function downloadFile(filename, content, type) {
            const blob = new Blob([content], { type: type });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.style.display = 'none';
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
            document.body.removeChild(a);
        }

        function closeBlogModal() {
            document.getElementById('blogModal').style.display = 'none';
            editingBlogId = null;
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('blogModal');
            if (event.target === modal) {
                closeBlogModal();
            }
        }

        // Handle escape key to close modal
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeBlogModal();
            }
        });
    </script>
</body>
</html>
